<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
    <title>Dragon Smoke Shop | Orion, Michigan</title>
    <meta name="description" content="Dragon Smoke Shop — your one-stop shop in Orion, MI for vapes, kratom, cigars, glass, apparel, drinks, slushies & more." />
    <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ccircle cx='50' cy='50' r='45' fill='%2310b981'/%3E%3Ctext x='50' y='58' font-size='58' text-anchor='middle' fill='%23000'%3EDS%3C/text%3E%3C/svg%3E" />

    <!-- Tailwind + React + Babel -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js" crossorigin></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <style>
      html,body,#root{height:100%}
      a,button{-webkit-tap-highlight-color:transparent}
    </style>
  </head>
  <body class="bg-black text-white">
    <div id="root"></div>

    <script type="text/babel">
      const {useState, useEffect, useMemo} = React;

      // ===== Config =====
      const PHONE = "(248) 977-4864";
      const PHONE_TEL = "tel:+12489774864";
      const MAPS_URL = "https://www.google.com/maps/search/?api=1&query=Dragon+Smoke+Shop+2645+S+Lapeer+Rd+Lake+Orion+MI+48360";

      // Category title neon accent: "yellow" or "red"
      const CATEGORY_NEON_ACCENT = "yellow";
      const CATEGORY_TITLE_CLASS = CATEGORY_NEON_ACCENT === "yellow" ? "text-yellow-400" : "text-red-400";
      const CATEGORY_TITLE_STYLE = CATEGORY_NEON_ACCENT === "yellow"
        ? { textShadow: "0 0 8px #facc15, 0 0 16px #facc15" }
        : { textShadow: "0 0 8px #f87171, 0 0 16px #f87171" };

      const CATEGORIES = [
        { title: "Cigars", desc: "Premium & everyday sticks" },
        { title: "Kratom", desc: "Capsules, powders, tablets" },
        { title: "Cigarettes", desc: "Top brands & value" },
        { title: "Vapes", desc: "Disposables & devices" },
        { title: "Nicotine Pouches", desc: "ZYN, FRE, more" },
        { title: "Vape Juice / E-Liquid", desc: "Popular flavors & sizes" },
        { title: "Blunt & Hemp Wraps", desc: "All the wraps you want" },
        { title: "THCA & CBD / Hemp", desc: "Flower, carts, gummies" },
        { title: "Mods & Coils", desc: "Setups, tanks, parts" },
        { title: "Detox", desc: "Trusted options" },
        { title: "Tobacco", desc: "Loose leaf & more" },
        { title: "Accessories", desc: "Headphones, lighters, trays" },
        { title: "Secret / Easter-Egg", desc: "Ask in-store — limited!" },
      ].map(c => ({...c, slug: c.title.toLowerCase().replace(/[^a-z0-9]+/g,'-').replace(/(^-|-$)/g,'')}));

      // ===== Inventory Data (by category slug) =====
      const INVENTORY = {
        cigars: [
          { name: "Arturo Fuente Hemingway Short Story", desc: "Dominican classic; cedar, nuts, and a touch of sweetness." },
          { name: "Arturo Fuente 8-5-8 Natural", desc: "Medium body; creamy smoke with earthy undertones." },
          { name: "Romeo y Julieta 1875 Bully", desc: "Medium; toasted bread, spice, and smooth finish." },
          { name: "Romeo y Julieta Reserva Real Toro", desc: "Creamy Connecticut-wrapped, hints of almond and vanilla." },
          { name: "Montecristo White Series Robusto", desc: "Silky, mellow; cream, cocoa, and soft spice." },
          { name: "Montecristo Classic Toro", desc: "Refined medium; citrus, honey, and toasted nuts." },
          { name: "Padron 2000 Natural", desc: "Nicaraguan staple; cocoa, coffee, peppery zing." },
          { name: "Padron 3000 Maduro", desc: "Rich and sweet; dark chocolate, espresso, earth." },
          { name: "Padron 1964 Anniversary Exclusivo Maduro", desc: "Box-pressed luxury; dense cocoa and baking spice." },
          { name: "Oliva Serie V Melanio Robusto", desc: "Award-winner; caramel, wood, and balanced strength." },
          { name: "Oliva Serie V Double Robusto", desc: "Full; leather, espresso, and pepper." },
          { name: "Oliva Serie G Robusto", desc: "Medium; nutty profile with cedar and coffee." },
          { name: "Ashton Classic Magnum", desc: "Clean, creamy Connecticut with almond notes." },
          { name: "Ashton VSG Robusto", desc: "Powerful; dark sweetness, wood, long finish." },
          { name: "Avo Classic No. 2", desc: "Smooth; cream, toast, and a touch of pepper." },
          { name: "My Father Flor de Las Antillas Toro", desc: "Box-pressed; cocoa, nutmeg, and floral spice." },
          { name: "My Father Le Bijou 1922 Toro", desc: "Full; dark fruit, espresso, and black pepper." },
          { name: "Perdomo Reserve 10th Anniversary Champagne Toro", desc: "Mellow; honey sweetness and smooth draw." },
          { name: "Perdomo Habano Bourbon Barrel-Aged Sun Grown", desc: "Toasty oak, spice, and subtle sweetness." },
          { name: "Rocky Patel Vintage 1999 Connecticut Robusto", desc: "Creamy with vanilla and light spice." },
          { name: "Rocky Patel Vintage 1990 Toro", desc: "Medium; cocoa, nuts, and aged leather." },
          { name: "Rocky Patel Decade Toro", desc: "Complex; dark sweetness, cedar, long finish." },
          { name: "CAO America Monument", desc: "Barber pole wrapper; bold and patriotic blend." },
          { name: "CAO Brazilia Gol!", desc: "Full; dark chocolate, spice, and earthy core." },
          { name: "CAO Flavours Bella Vanilla", desc: "Aromatic vanilla with a mellow body." },
          { name: "CAO Flavours Cherrybomb", desc: "Cherry aroma; sweet and smooth draw." },
          { name: "Drew Estate Acid Blondie", desc: "Infused; sweet floral notes, quick smoke." },
          { name: "Drew Estate Tabak Especial Toro Dulce", desc: "Coffee-infused; mocha, cream, and sweetness." },
          { name: "Drew Estate Undercrown Shade Robusto", desc: "Creamy Connecticut; nuts and light pepper." },
          { name: "Liga Privada No. 9 Robusto", desc: "Dense smoke; espresso, earth, and black pepper." },
          { name: "Cohiba Blue Robusto", desc: "Silky medium; cocoa, cream, and cedar." },
          { name: "Cohiba Red Dot Robusto", desc: "Iconic; savory spice, wood, and sweetness." },
          { name: "Macanudo Café Hyde Park", desc: "Very mellow; creamy with hints of hay and toast." },
          { name: "Macanudo Inspirado Orange Robusto", desc: "Zesty profile; cedar, citrus, and spice." },
          { name: "Punch Champion", desc: "Medium-full; leather, spice, classic Honduran." },
          { name: "Punch Gran Puro Pico Bonito", desc: "Bold; earthy, peppery, with sweet undertones." },
          { name: "Hoyo de Monterrey Excalibur No. 1", desc: "Balanced; cedar, cream, and white pepper." },
          { name: "La Gloria Cubana Serie R No. 5", desc: "Robust; cocoa, spice, and thick smoke." },
          { name: "Alec Bradley Prensado Gran Toro", desc: "Box-pressed; chocolate, leather, and rich spice." },
          { name: "Alec Bradley Magic Toast Toro", desc: "Sweetness up front; toast, cocoa, berries." },
          { name: "EP Carrillo Encore Majestic", desc: "Awarded blend; caramel, spice, and oak." },
          { name: "San Cristobal Revelation Legend", desc: "Nicaraguan; cocoa, nuts, and baking spice." },
          { name: "Romeo y Julieta House of Capulet Toro", desc: "Smooth Connecticut; cream and toasted bread." },
          { name: "Romeo y Julieta House of Montague Toro", desc: "Dark wrapper; cocoa, spice, medium-full." },
          { name: "Backwoods Honey Berry (5-Pack)", desc: "Machine-made, aromatic; quick flavored smokes." },
          { name: "Backwoods Original (5-Pack)", desc: "Rustic cigarillos with classic tobacco taste." },
          { name: "Swisher Sweets Original (2-Pack)", desc: "Everyday value; sweet tip and mild body." },
          { name: "Dutch Masters Palma", desc: "Smooth, slightly sweet natural leaf cigar." },
          { name: "Game Cigarillos Green", desc: "Mellow smoke with subtle sweetness." },
          { name: "Phillies Blunt Original", desc: "Classic convenience-store favorite; mild and sweet." }
        ]
      };

      // ===== Tiny hash router =====
      const useHashRoute = () => {
        const [hash, setHash] = useState(window.location.hash || '#/');
        useEffect(() => {
          const onHash = () => setHash(window.location.hash || '#/');
          window.addEventListener('hashchange', onHash);
          return () => window.removeEventListener('hashchange', onHash);
        }, []);
        const route = useMemo(() => {
          const cleaned = hash.replace(/^#/, '');
          const parts = cleaned.split('/').filter(Boolean);
          if (parts.length === 0) return { name: 'home' };
          if (parts[0] === 'c' && parts[1]) return { name: 'category', slug: parts[1] };
          if (parts[0] === 'rewards') return { name: 'rewards' };
          if (parts[0] === 'visit') return { name: 'visit' };
          return { name: 'notfound' };
        }, [hash]);
        return route;
      };

      const navigateToCategory = (slug) => {
        window.location.hash = `#/c/${slug}`;
      };

      // ===== UI helpers =====
      const cn = (...c) => c.filter(Boolean).join(" ");

      const IconPhone = ({ className="" }) => (
        <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" aria-hidden>
          <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72c.12.9.31 1.78.57 2.63a2 2 0 0 1-.45 2.11L8 9a16 16 0 0 0 7 7l.54-.23a2 2 0 0 1 2.11.45c.85.26 1.73.45 2.63.57A2 2 0 0 1 22 16.92z" />
        </svg>
      );
      const IconMapPin = ({ className="" }) => (
        <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" aria-hidden>
          <path d="M21 10c0 7-9 12-9 12s-9-5-9-12a9 9 0 1 1 18 0z" />
          <circle cx="12" cy="10" r="3" />
        </svg>
      );

      const Button = ({ children, className="", href, onClick, target, rel }) => {
        const base = "inline-flex items-center justify-center rounded-xl px-3 py-2 text-sm font-medium transition";
        return href ? (
          <a href={href} onClick={onClick} target={target} rel={rel} className={cn(base, className)}>{children}</a>
        ) : (
          <button onClick={onClick} className={cn(base, className)}>{children}</button>
        );
      };

      // ===== Sections =====
      function Header() {
        return (
          <header className="sticky top-0 z-40 border-b border-white/10 bg-black/70 backdrop-blur">
            <div className="mx-auto flex max-w-7xl items-center justify-between px-4 py-3 md:py-4">
              <div className="flex items-center gap-3">
                <div className="h-9 w-9 rounded-xl bg-gradient-to-br from-emerald-500 to-emerald-700 shadow-inner" />
                <div className="leading-tight">
                  <p className="text-lg font-bold tracking-wide">Dragon Smoke Shop</p>
                  <p className="text-xs text-white/60">Your one-stop shop</p>
                </div>
              </div>
              <nav className="hidden gap-6 md:flex">
                <a className="text-sm text-white/80 hover:text-white" href="#/">Shop</a>
                <a className="text-sm text-white/80 hover:text-white" href="#/rewards">Rewards</a>
                <a className="text-sm text-white/80 hover:text-white" href="#/visit">Visit</a>
              </nav>
            </div>
          </header>
        );
      }

      function Categories() {
        return (
          <section id="categories" className="mx-auto max-w-7xl px-4 py-16">
            <div className="grid gap-4 sm:grid-cols-2 lg:grid-cols-3">
              {CATEGORIES.map(c => (
                <button
                  key={c.title}
                  onClick={() => navigateToCategory(c.slug)}
                  className="text-left group rounded-3xl border border-emerald-400/80 bg-gradient-to-br from-emerald-700/40 to-emerald-500/20 p-6 transition hover:-translate-y-0.5 hover:from-emerald-600/50 hover:to-emerald-400/20 hover:shadow-lg hover:shadow-emerald-400/10 focus:outline-none focus:ring-2 focus:ring-emerald-400"
                >
                  <h3 className={cn("text-base", CATEGORY_TITLE_CLASS)} style={CATEGORY_TITLE_STYLE}>{c.title}</h3>
                  <p className="mt-1 text-sm text-white/80">{c.desc}</p>
                </button>
              ))}
            </div>
            <p className="mt-6 rounded-xl border border-emerald-500/20 bg-emerald-900/20 p-4 text-center text-sm text-emerald-200">
              Friendly, knowledgeable staff — Great prices — Local favorite
            </p>
          </section>
        );
      }

      function CategoryPage({ slug }) {
        const cat = CATEGORIES.find(c => c.slug === slug);
        if (!cat) return (
          <main className="mx-auto max-w-7xl px-4 py-24 text-center">
            <p className="text-white/70">Category not found.</p>
            <a href="#/" className="mt-4 inline-block rounded-lg bg-emerald-500 px-4 py-2 text-black hover:bg-emerald-400">Go Home</a>
          </main>
        );

        const items = INVENTORY[slug] || [];

        return (
          <main className="mx-auto max-w-7xl px-4 py-12">
            <div className="mb-6 text-sm text-white/60"><a href="#/" className="underline decoration-emerald-400">Home</a> / {cat.title}</div>
            <h1 className="text-3xl font-bold tracking-tight">
              <span className={CATEGORY_TITLE_CLASS} style={CATEGORY_TITLE_STYLE}>{cat.title}</span>
            </h1>
            <p className="mt-2 text-white/80">{cat.desc}</p>

            <div className="mt-8 grid gap-4 sm:grid-cols-2 lg:grid-cols-3">
              {items.length > 0 ? (
                items.map((it, idx) => (
                  <div key={idx} className="rounded-2xl border border-white/10 bg-white/5 p-4">
                    <div className="aspect-[4/3] w-full rounded-xl bg-black/40 flex items-center justify-center text-xs text-white/40">Cigar</div>
                    <p className="mt-3 text-sm font-semibold">{it.name}</p>
                    <p className="text-xs text-white/60">{it.desc}</p>
                  </div>
                ))
              ) : (
                [1,2,3].map(i => (
                  <div key={i} className="rounded-2xl border border-white/10 bg-white/5 p-4">
                    <div className="aspect-[4/3] w-full rounded-xl bg-black/40"></div>
                    <p className="mt-3 text-sm font-medium">Sample Item {i}</p>
                    <p className="text-xs text-white/60">Add details here.</p>
                  </div>
                ))
              )}
            </div>
          </main>
        );
      }

      function RewardsPage() {
        return (
          <main className="mx-auto max-w-7xl px-4 py-24 text-center">
            <h1 className="text-3xl md:text-4xl font-extrabold text-emerald-400" style={{ textShadow: '0 0 12px #10b981' }}>
              Sign up for our reward system in store and collect points and use them as discount for future purchases only at Dragon Smoke Shop — the one stop shop.
            </h1>
          </main>
        );
      }

      function VisitPage(){
        return (
          <main className="mx-auto max-w-7xl px-4 py-24 text-center">
            <h1 className="text-2xl font-semibold">Visit Dragon Smoke Shop</h1>
            <p className="mt-2 text-white/70">2645 S Lapeer Rd, Lake Orion (Orion Township), MI 48360</p>
            <div className="mt-4 flex items-center justify-center gap-3">
              <a className="rounded-lg bg-emerald-500 px-4 py-2 text-black hover:bg-emerald-400" href={"tel:+12489774864"}>Call {PHONE}</a>
              <a className="rounded-lg bg-white/10 px-4 py-2 hover:bg-white/20" target="_blank" rel="noreferrer" href={MAPS_URL}>Directions</a>
            </div>
          </main>
        );
      }

      function App(){
        const route = useHashRoute();
        return (
          <div className="min-h-screen bg-black text-white">
            <Header />
            {route.name === 'home' && <Categories />}
            {route.name === 'category' && <CategoryPage slug={route.slug} />}
            {route.name === 'rewards' && <RewardsPage />}
            {route.name === 'visit' && <VisitPage />}
            {route.name === 'notfound' && (
              <main className="mx-auto max-w-7xl px-4 py-24 text-center">
                <h2 className="text-2xl font-semibold">Page not found</h2>
                <p className="mt-2 text-white/60">The page you requested doesn’t exist.</p>
                <a href="#/" className="mt-6 inline-block rounded-lg bg-emerald-500 px-4 py-2 text-black hover:bg-emerald-400">Go Home</a>
              </main>
            )}
          </div>
        );
      }

      // ===== Render =====
      ReactDOM.createRoot(document.getElementById("root")).render(<App />);

      // ===== Minimal runtime tests =====
      (function runSmokeTests(){
        try {
          console.assert(document.getElementById('root'), 'Root element must exist');
          const onHome = () => !!document.querySelector('#categories');
          console.assert(onHome(), 'Home should render the Categories section');
          const prev = window.location.hash;
          window.location.hash = '#/c/cigars';
          setTimeout(() => {
            const hasCigarsHeading = Array.from(document.querySelectorAll('h1, h2, h3')).some(el => /Cigars/i.test(el.textContent));
            console.assert(hasCigarsHeading, 'Cigars page should render a heading containing "Cigars"');
            window.location.hash = prev || '#/';
          }, 0);
        } catch (e) {
          console.warn('Smoke tests encountered an issue:', e);
        }
      })();
    </script>
  </body>
</html>
